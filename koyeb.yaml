name: tradeplus
services:
  - name: tradeplus
    type: web
    ports:
      - port: 3333
        protocol: http
    routes:
      - path: /
        port: 3333
    regions:
      - par
    source:
      git:
        repository: github.com/olatunbosunprowess2-hue/tradeplus
        branch: main
        dockerfile:
          path: Dockerfile
    health_checks:
      - http:
          path: /api/health
          port: 3333
    env:
      - key: DATABASE_URL
        value: postgresql://postgres:855981Pro@db.ueblqvobbpoukuyjoxwe.supabase.co:5432/postgres
      - key: FRONTEND_URL
        value: https://tradeplus-web.vercel.app
      - key: JWT_SECRET
        value: supersecret
      - key: NODE_ENV
        value: production
      - key: NPM_CONFIG_LEGACY_PEER_DEPS
        value: "true"
      - key: NPM_CONFIG_PRODUCTION
        value: "false"
      - key: PORT
        value: "3333"
      - key: CLOUDFLARE_ACCOUNT_ID
        value: a2ce0b1d8ba4b511d8047af29f1e5c32
      - key: CLOUDFLARE_R2_ACCESS_KEY_ID
        value: ac0396a7d42d2df635e151c3930497c2
      - key: CLOUDFLARE_R2_SECRET_ACCESS_KEY
        value: c0edeb7d3aa15d4b50c6b85b20398f0e82d4e8a2315e85f54bce1d056f7a3235
      - key: CLOUDFLARE_R2_ENDPOINT
        value: https://a2ce0b1d8ba4b511d8047af29f1e5c32.r2.cloudflarestorage.com
      - key: CLOUDFLARE_R2_BUCKET_NAME
        value: barterwave-media
      - key: CLOUDFLARE_R2_CUSTOM_DOMAIN
        value: https://images.barterwave.com
